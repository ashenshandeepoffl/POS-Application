<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Roles & Permissions Management</title>
    <link rel="stylesheet" href="assets/css/menu.css" />
    <link rel="stylesheet" href="assets/css/topbar.css" />
    <style>
      /* Basic styling for forms and tables */
      form {
        max-width: 500px;
        margin: 20px 0;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
        background: #f9f9f9;
      }
      form div {
        margin-bottom: 10px;
      }
      form label {
        display: block;
        font-weight: bold;
        margin-bottom: 5px;
      }
      form input,
      form select,
      form textarea {
        width: 100%;
        padding: 8px;
        box-sizing: border-box;
      }
      form button {
        padding: 10px 20px;
        background: #007bff;
        color: #fff;
        border: none;
        border-radius: 3px;
        cursor: pointer;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
      }
      table th,
      table td {
        padding: 8px;
        border: 1px solid #ddd;
        text-align: left;
      }
      .tabs {
        margin: 20px 0;
      }
      .tabs .tab {
        padding: 10px 15px;
        cursor: pointer;
        background: #eee;
        border: none;
        outline: none;
        margin-right: 5px;
      }
      .tabs .tab.active {
        background: #007bff;
        color: #fff;
      }
      .tab-content {
        display: none;
      }
      .tab-content.active {
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Navigation Sidebar -->
      <div class="navigation">
        <ul>
          <li>
            <a href="dashboard.html" data-target="dashboard">
              <span class="icon"
                ><ion-icon name="home-outline"></ion-icon
              ></span>
              <span class="title">Dashboard</span>
            </a>
          </li>
          <li>
            <a href="menu.html" data-target="menu">
              <span class="icon"
                ><ion-icon name="fast-food-outline"></ion-icon
              ></span>
              <span class="title">Menu</span>
            </a>
          </li>
          <li>
            <a href="staff.html" data-target="staff">
              <span class="icon"
                ><ion-icon name="people-outline"></ion-icon
              ></span>
              <span class="title">Staff</span>
            </a>
          </li>
          <li>
            <a href="inventory.html" data-target="inventory">
              <span class="icon"
                ><ion-icon name="cube-outline"></ion-icon
              ></span>
              <span class="title">Inventory</span>
            </a>
          </li>
          <li>
            <a href="storeManagement.html" data-target="storeManagement">
              <span class="icon"
                ><ion-icon name="storefront-outline"></ion-icon
              ></span>
              <span class="title">Store Management</span>
            </a>
          </li>
          <li>
            <!-- Updated Sales Management link -->
            <a href="salesManagement.html" data-target="salesManagement">
              <span class="icon"
                ><ion-icon name="receipt-outline"></ion-icon
              ></span>
              <span class="title">Sales Management</span>
            </a>
          </li>
          <li>
            <a href="discountsTaxes.html" data-target="discountsTaxes">
              <span class="icon"
                ><ion-icon name="pricetag-outline"></ion-icon
              ></span>
              <span class="title">Discounts & Taxes</span>
            </a>
          </li>
          <li>
            <a href="salesReporting.html" data-target="salesReporting">
              <span class="icon"
                ><ion-icon name="stats-chart-outline"></ion-icon
              ></span>
              <span class="title">Sales Reporting</span>
            </a>
          </li>
          <li>
            <a href="refundsReceipts.html" data-target="refundsReceipts">
              <span class="icon"
                ><ion-icon name="return-up-back-outline"></ion-icon
              ></span>
              <span class="title">Refunds & Receipts</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- Main Content -->
      <div class="main">
        <div class="topbar">
          <div class="toggle"><ion-icon name="menu-outline"></ion-icon></div>
          <div class="search">
            <input
              type="text"
              id="globalSearch"
              placeholder="Search anything..."
            />
            <ion-icon name="search-outline"></ion-icon>
          </div>
          <div class="user-avatar" id="userAvatar"></div>
        </div>

        <div id="content-container">
          <h2>Roles & Permissions Management</h2>

          <!-- Tabs -->
          <div class="tabs">
            <button class="tab active" data-tab="rolesTab">Manage Roles</button>
            <button class="tab" data-tab="permissionsTab">
              Manage Permissions
            </button>
            <button class="tab" data-tab="assignTab">Assign Permissions</button>
          </div>

          <!-- Manage Roles Tab -->
          <div id="rolesTab" class="tab-content active">
            <h3>Create New Role</h3>
            <form id="roleForm">
              <div>
                <label for="roleName">Role Name:</label>
                <input type="text" id="roleName" name="roleName" required />
              </div>
              <button type="submit" class="btn">Create Role</button>
            </form>
            <h3>Existing Roles</h3>
            <table>
              <thead>
                <tr>
                  <th>Role ID</th>
                  <th>Role Name</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="rolesTableBody">
                <!-- Roles loaded dynamically -->
              </tbody>
            </table>
          </div>

          <!-- Manage Permissions Tab -->
          <div id="permissionsTab" class="tab-content">
            <h3>Create New Permission</h3>
            <form id="permissionForm">
              <div>
                <label for="permissionName">Permission Name:</label>
                <input
                  type="text"
                  id="permissionName"
                  name="permissionName"
                  required
                />
              </div>
              <button type="submit" class="btn">Create Permission</button>
            </form>
            <h3>Existing Permissions</h3>
            <table>
              <thead>
                <tr>
                  <th>Permission ID</th>
                  <th>Permission Name</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="permissionsTableBody">
                <!-- Permissions loaded dynamically -->
              </tbody>
            </table>
          </div>

          <!-- Assign Permissions Tab -->
          <div id="assignTab" class="tab-content">
            <h3>Assign Permission to Role</h3>
            <form id="assignForm">
              <div>
                <label for="assignRole">Select Role:</label>
                <input
                  type="text"
                  id="assignRole"
                  name="assignRole"
                  list="roleList"
                  placeholder="Select role"
                  required
                />
                <datalist id="roleList"></datalist>
              </div>
              <div>
                <label for="assignPermission">Select Permission:</label>
                <input
                  type="text"
                  id="assignPermission"
                  name="assignPermission"
                  list="permissionList"
                  placeholder="Select permission"
                  required
                />
                <datalist id="permissionList"></datalist>
              </div>
              <button type="submit" class="btn">Assign Permission</button>
            </form>
            <h3>Assigned Permissions</h3>
            <table>
              <thead>
                <tr>
                  <th>Assignment ID</th>
                  <th>Role</th>
                  <th>Permission</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="assignTableBody">
                <!-- Assigned permissions loaded dynamically -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <script src="assets/js/rolesPermissions.js"></script>
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'self' 'unsafe-eval';"
    />
    <!-- Ionicons -->
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
  </body>
</html>
